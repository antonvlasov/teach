### Либы 
Весь код который пишется на go находится в каком-то пакете (папка). "Проект" в котором пишется код - модуль, им можно делиться с другими; можно использовать чужие модули - библиотеки. Простейший вариант - выложить модуль на гитхаб и открыть репо - любой сможет его включить себе с помощью go get.
Когда вы добавляете к себе в проект внешние либы, информация о них сохраняется в go mod, сам код библиотек при этом хранится не в вашем проекте, а в отдельной папке, общей для всей инсталляции go. Если вы портируете свой код, при сборке либы придется загрузить еще раз. Чтобы этого избежать, существует vendor - механизм включения кода внешних либ прямо в ваш код. При использовании vendor все либы будут в корне вашего проекта в папке vendor.

go get ... - добавить либу в проект (в go.mod)
go mod tidy - апдейтнуть go.mod и go.sum, лучше эту команду выполнять всегда после изменения версий или состава внешних либ
go mod vendor - скачать все внешние либы проекта в папку vendor.

### Интерфейсы
Интерфейс - договоренность о взаимодействии. Также как клавиатура и монитор являются интерфейсом взаимодействия человека, интерфейсы существуют внутри программы и между программами. Сигнатуры функций в go описывают интерфейс взаимодействия с ними. Существует интерфейс который описывает как будут записываться и считываться файлы с диска.
Сетевые взаимодействия обычно описываются в контексте передачи данных на расстояние, начиная с физического уровня OSI. Мы поговорим про сеть с точки зрения интерфейса. Взаимодействие между компонентами может осуществляться несколькими способами, назовем некоторые из них.
1. Прерывания - запись одним компонентом данных прямо в регистр процессора.
2. Можно задавать аргументы при запуске программы, хороший способ для программ с небольшим количеством возможностей.
3. Можно писать в и читать из одного места на диске по предварительным договоренностям - примитивный метод с большими издержками, так как запись на диск очень долгая операция. Можно сказать что тут мы разделяем некоторый участок постоянной памяти машины между программами
4. Совместное использования участка операционной памяти программами. Редко используется напрямую, несет риски безопасности и вообще сложная тема. Позволяет достаточно быстро передавать данные.
5. Некоторые языки могут вызывать функции из других языков. Так, интерфейс функций C поддерживается многими языками, например go. То есть из go можно напрямую вызывать функции C с небольшими накладными расходами. При этом код на C не запущен из другой программы, взаимодействие происходит в рамках одной программы.
6. Взаимодействие через пайпы linux - абстрагированый интерфейс linux, позволяющий эффективно передавать данные из одной программы в другую. Пример: cat file.txt | grep 12:54
7. Сетевое взаимодействие. Позволяет взаимодействовать компонентам на разных ЯП, в разных программах, на разных ОС на разных физических устройствах. Высокий уровень абстракции, позволяющий общаться как программам, запущенным на одной ОС, так и на разных устройствах. Такой интерфейс очень часто используется.

### UDP и TCP

Основные протоколы, использующиеся для передачи данных по сети - IP + UDP/TCP. IP часть содержит IP адрес, TCP/UDP часть содержит порт. Мы будем рассматривать только IPv4 адреса.

Базовое применение: IP адрес нужен чтобы определить адрес машины. Когда одна машина отправляет сообщение другой, куда его отправить определяется по IP адресу. Внутри каждой машины может быть несколько приложений, чтобы понять какому из них на машине предназначено сообщение, нужен порт. IP адрес с портом выглядят так 8.8.8.8:443. Порты находятся в пределах между 0 и 65535, IP адреса между 0.0.0.0 и 255.255.255.255 (всего 4,294,967,296). 
Тут нужно нарисовать картинку где 2 компа соединены проводом и происходит взаимодействие по IP адресу и порту.

Усложнение 1: Не каждая машина подключена к каждой, для маршрутизации пакетов используются маршутизаторы (роутеры). IPv4 адресов меньше чем устройств в интернете, поэтому роутер может назваться одним адресом IP, а далее раскидывать данные по различным адресам (NAT). Человеку удобнее писать текст чем IP адреса, поэтому существуют доменны имена. Доменное имя резолвится в IP адрес (DNS). Зачастую возникают проблемы резолва доменного имени, при проблемах подключения стоит начать с понимания того, резолвится ли хостнейм. Также хостнейм может резолвиться в IPv6, а приложение поддерживать только IPv4, зачастую отключение IPv6 решает некоторые сетевые проблемы на машине.
 
Усложнение 2: Доменное имя может резолвиться локальным компьютером или сервером DNS, если компьютер не знает такого имени, то есть доменное имя может значить разный адрес в зависимости от контекста. Также широко распростронены механизмы, когда одно и то же доменное имя резолвится в разные IP адреса в зависимости от контекста.

Усложнение 3: Не от всех IP адресов доступны все IP адреса. Маршрут куда-то может быть неизвестен. Не все порты доступны - файрвол блокирует большую часть портов по умолчанию.

Усложнение 4: У компьютера может быть несколько IP адресов, это используется для виртуализации. У компьютера всегда есть loopback адрес - он сам, это 127.0.0.1 и, как правило, внешний адрес, по которому к нему могу обращяться другие компьютеры. Когда вы работаете в WSL, у вас больше адресов, так как внутри вашей машины другая ОС. Когда идет обращение к чему-то по IP адресу, всегда важен контекст - откуда идет обращение.

### Приложение с сетью
Чтобы наше приложение работало с сетью, мы должны сделать чтобы оно слушало порт. В таком случае пакеты, прилетевшие на машину по IP адресу машины и на данный порт, попадут в приложение и будет возможно их обработать. Основа сетевого взаимодействия - приложение, слушающее некоторый порт. Обычно для этой цели выбирается красивый порт в диапазоне 1024-30000. Как правило, на одном порту может быть зарегистрировано только одно приложение. Приложение, слушающее на открытом порту, называется сервером. Стандартным способом не получится открыть приложение на порту который уже занят. Когда приложение хочет взаимодействовать с приложением на открытым портом, оно выбирает себе порт отправителя - 40000+ и общается с открытым портом. Приложение, обращающееся к серверу, называется клиентом.


Основной  дебаг сетевых взаимодействий осуществляется с помощью следующих инструментов:
ping 10.0.0.1 - проверить доступность адреса по ICMP. На некоторых машинах может быть отключен ICMP, если ping не работает, это еще не значит что адрес недоступен
traceroute 10.0.0.1 - показать маршрут по которому идет доступ к адресу
telnet 10.0.0.1 443 - подключиться к адресу по порту. Это хороший инструмент проверки, доступен ли порт

### TCP, UDP
UDP - отправка пакетов без гарантии получеия, более легковесный протокол.
TCP - отправка пакетов с гарантией получения. Между участниками взаимодействия устанавливается сессия.

### TCP и UDP в golang
echo -n "hello" >/dev/tcp/localhost/4000